<app-header></app-header>

<div class="checkout-container">
  <h1>Your Shopping Cart</h1>

  <div *ngIf="cartItems.length === 0">
    <p>Your cart is empty.</p>
  </div>

  <div *ngFor="let item of cartItems" class="checkout-card">
    <img [src]="getImageUrl(item.imageURL)" class="product-image">

    <div class="product-details">
      <h2>{{ item.name }}</h2>
      <p>{{ item.description }}</p>
      <p>Price per unit: ${{ item.price.toFixed(2) }}</p>
      <p>Quantity: {{ item.qty }}</p>
      <p>Total for this product: ${{ item.totalPrice.toFixed(2) }}</p>
  
      <div class="remove-control">
        <input type="number" min="1" [max]="item.qty" [(ngModel)]="item.removeQty">
        <button (click)="removeFromCart(item.id, item.removeQty)">Remove</button>
      </div>
    </div>
  </div>  

  <div class="subtotal">
    <h2>Subtotal: ${{ total.toFixed(2) }}</h2>
  </div>

  <button [disabled]="cartItems.length === 0" class="checkout-button" (click)="clicked()">Checkout</button>
</div>

<app-footer></app-footer>
